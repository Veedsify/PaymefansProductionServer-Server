<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>
          Paymefans - <%= stream.title %>
     </title>
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap" rel="stylesheet">
     <style>
          *,
          body {
               font-family: "Geist", serif;
          }
     </style>
     <script src="https://cdn.tailwindcss.com"></script>
     <script>
          tailwind.config = {
               theme: {
                    extend: {
                         colors: {
                              white: "#ffffff",
                              black: "#000000",
                              "primary-dark-pink": "#CC0DF8",
                              "primary-text-dark-pink": "#78158E",
                              "button-black": "#000000",
                              "messages-unread": "#FCF1FF",
                              "message-bubble": "#CC0DF8",
                              "model-online-notify": "#04D900",
                              coin: "#F4900C",
                              "coins-card-bottom": "#FAE2FF",
                              "coins-card-top": "#e057ff",
                         },
                    }
               }
          }
     </script>
</head>

<class="mx-auto">
     <div
          class="fixed bg-white dark:bg-gray-950 flex flex-col left-0 top-0 w-full min-h-screen max-h-screen items-center z-50">
          <div
               class="max-w-screen-2xl mx-auto flex-1 w-full h-screen max-h-screen border dark:border-slate-800 grid lg:grid-cols-3  dark:text-white relative">
               <div
                    class="border h-screen max-h-screen overflow-auto duration-300 ease-in-out dark:border-slate-800 flex-col p-2 md:p-4 w-full lg:flex lg:static bg-white z-50 absolute top-0">
                    <div
                         class="absolute flex items-center justify-center lg:hidden shadow-sm h-12 w-12 top-10 bg-white p-3 rounded-tr-full rounded-br-full duration-200">
                         <button class="flex items-center justify-center">
                              <i class="chevron-left-icon"></i>
                         </button>
                    </div>
                    <div class="mb-14">
                         <Image class="block h-8 w-36" width={150} height={30} priority src="/site/logo2.png"
                              alt="Logo" />
                    </div>
                    <div class="mb-20">
                         <span class="font-semibold mb-2 text-sm text-gray-700 inline-block dark:text-gray-300">Stream
                              Title</span>
                         <input type="text" readonly class="text-2xl font-bold border-none w-full p-1"
                              value="<%= stream.title %>" />
                    </div>

                    <div class="mb-3">
                         <span class="font-bold mb-2 text-sm inline-block text-gray-700 dark:text-gray-300">Stream
                              Analytics</span>
                         <div class="flex mb-2">
                              <div
                                   class="border flex items-center flex-col justify-center gap-2 border-gray-300 dark:border-slate-800 p-3 flex-1 rounded-tl-lg rounded-bl-lg">
                                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="lucide lucide-eye">
                                        <path
                                             d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0" />
                                        <circle cx="12" cy="12" r="3" />
                                   </svg>
                                   <h2 class="text-sm">Views</h2>
                                   <h1 class="text-lg sm:text-3xl font-semibold" data-attr="views">0</h1>
                              </div>
                              <div
                                   class="border flex items-center flex-col justify-center gap-2 border-gray-300 dark:border-slate-800 p-3 flex-1">
                                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="lucide lucide-heart">
                                        <path
                                             d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
                                   </svg>
                                   <h2 class="text-sm">Likes</h2>
                                   <h1 class="text-lg sm:text-3xl font-semibold">20</h1>
                              </div>
                              <div
                                   class="border flex items-center flex-col justify-center gap-2 border-gray-300 dark:border-slate-800 p-3 flex-1 rounded-tr-lg rounded-br-lg">
                                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="lucide lucide-message-square-text">
                                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                                        <path d="M13 8H7" />
                                        <path d="M17 12H7" />
                                   </svg>
                                   <h2 class="text-sm">Comments</h2>
                                   <h1 class="text-lg sm:text-3xl font-semibold">
                                        112
                                   </h1>
                              </div>
                         </div>
                    </div>
                    <div class="mb-3">
                         <span class="font-bold text-sm mb-2 inline-block text-gray-700 dark:text-gray-300">User
                              Analytics</span>
                         <div class="flex mb-2 flex-wrap">
                              <div
                                   class="border flex items-center flex-col justify-center gap-2 border-gray-300 dark:border-slate-800 p-3 flex-1 rounded-tl-lg rounded-bl-lg">
                                   <img width="20" height="20" src="/site/coin.svg" class="w-auto h-5 aspect-square"
                                        alt="Coin">
                                   <h2 class="text-sm">Points</h2>
                                   <h1 class="text-lg sm:text-2xl font-semibold">2.3k</h1>
                              </div>
                              <div
                                   class="border flex items-center flex-col justify-center gap-2 border-gray-300 dark:border-slate-800 p-3 flex-1">
                                   <span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                             stroke-linecap="round" stroke-linejoin="round"
                                             class="lucide lucide-users-round">
                                             <path d="M18 21a8 8 0 0 0-16 0" />
                                             <circle cx="10" cy="8" r="5" />
                                             <path d="M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3" />
                                        </svg>
                                   </span>
                                   <h2 class="text-sm">Followers</h2>
                                   <h1 class="text-lg sm:text-2xl font-semibold">130</h1>
                              </div>
                         </div>
                    </div>

                    <div class="border flex flex-col gap-2 border-gray-300 dark:border-slate-400 p-3 flex-1 rounded-lg">
                         <div class="flex flex-wrap gap-2">
                              <div class="border w-full p-3 rounded">
                                   <h2 class='mb-3 text-sm font-medium'>Select Camera</h2>
                                   <select name="" data-attr="devices"
                                        class='p-3 text-sm w-full truncate overflow-ellipsis border rounded bg-gray-100'>
                                   </select>
                              </div>
                              <div class="border flex w-full rounded">
                                   <div class='p-3 flex-1 border-r'>
                                        <h2 class='mb-3 text-sm font-medium'>Mute Microphone</h2>
                                        <button data-attr="audio-toggle">
                                             <span class='border inline-block p-3 rounded-full'>
                                                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                       viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                       stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                       class="lucide lucide-mic-off">
                                                       <line x1="2" x2="22" y1="2" y2="22" />
                                                       <path d="M18.89 13.23A7.12 7.12 0 0 0 19 12v-2" />
                                                       <path d="M5 10v2a7 7 0 0 0 12 5" />
                                                       <path d="M15 9.34V5a3 3 0 0 0-5.68-1.33" />
                                                       <path d="M9 9v3a3 3 0 0 0 5.12 2.12" />
                                                       <line x1="12" x2="12" y1="19" y2="22" />
                                                  </svg>
                                             </span>
                                             <span class='border inline-block p-3 rounded-full'>
                                                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                       viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                       stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                       class="lucide lucide-mic">
                                                       <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z" />
                                                       <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
                                                       <line x1="12" x2="12" y1="19" y2="22" />
                                                  </svg>
                                             </span>
                                        </button>
                                   </div>
                                   <div class='p-3 flex-1'>
                                        <h2 class='mb-3 text-sm font-medium'>Disable Video</h2>
                                        <button data-attr="video-toggle">
                                             <span class='border inline-block p-3 rounded-full'>
                                                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                       viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                       stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                       class="lucide lucide-video-off">
                                                       <path
                                                            d="M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196" />
                                                       <path
                                                            d="M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2" />
                                                       <path d="m2 2 20 20" />
                                                  </svg>
                                             </span>
                                             <span class='border inline-block p-3 rounded-full'>
                                                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                       viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                       stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                       class="lucide lucide-video">
                                                       <path
                                                            d="m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5" />
                                                       <rect x="2" y="6" width="14" height="12" rx="2" />
                                                  </svg>
                                             </span>
                                        </button>
                                   </div>
                              </div>
                         </div>
                    </div>
                    <div>
                         <button class="bg-red-500 text-white p-3 rounded-lg w-full mt-5 font-semibold text-lg">
                              End Stream
                         </button>
                         <button class="bg-emerald-600 text-white p-3 rounded-lg w-full mt-5 font-semibold">
                              Go Live
                         </button>
                    </div>
               </div>


               <!-- Camera area -->
               <div class="h-screen overflow-auto max-h-screen bg-red-600">
                    <div class="grid grid-cols-2 grid-rows-2 h-screen">
                         <video data-attr='video-element' class="w-full h-full object-cover" id="video-element" muted
                              controls>
                              Your browser does not support the video tag.
                         </video>
                    </div>
               </div>

               <div
                    class="border overflow-auto h-screen max-h-screen dark:border-slate-800 lg:relative lg:block absolute top-0 left-0 w-full">
                    <div class="absolute bottom-0 left-0 w-full bg-video-stream-gradient-white">
                         <div class="p-2 md:p-3 flex items-center gap-4">
                              <img src="/images/user.png" alt="User" width="60" height="60"
                                   class="h-12 w-12 rounded-full object-cover border-primary-dark-pink border">
                              <div>
                                   <span class="text-xs font-bold block dark:text-white">
                                        <a href="/user/username">@jenna</a>
                                   </span>
                                   <span class="text-xs font-medium dark:text-white">
                                        Lorem ipsum dolor, sit amet consectetur adipisicing elit.
                                   </span>
                              </div>
                         </div>
                         <div class="p-2 md:p-3 flex items-center gap-4">
                              <img src="/images/user.png" alt="User" width="60" height="60"
                                   class="h-12 w-12 rounded-full object-cover border-primary-dark-pink border">
                              <div>
                                   <span class="text-xs font-bold block dark:text-white">
                                        <a href="/user/username">@jenna</a>
                                   </span>
                                   <span class="text-xs font-medium dark:text-white">
                                        Lorem ipsum dolor, sit amet consectetur adipisicing elit.
                                   </span>
                              </div>
                         </div>
                         <div class="p-4 pb-10 ">
                              <form class="flex items-center gap-2">
                                   <input type="text"
                                        class="p-3 text-xs border dark:border-white w-full lg:border-gray-600 border-white rounded-md font-medium flex-1 bg-transparent text-white lg:text-black outline-none"
                                        placeholder="Type your comment...">
                                   <button type="submit" class="p-3 bg-primary-dark-pink rounded-md">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                             viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2"
                                             stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-send">
                                             <path
                                                  d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z" />
                                             <path d="m21.854 2.147-10.94 10.939" />
                                        </svg>
                                   </button>
                              </form>
                         </div>
                    </div>
               </div>
          </div>
     </div>



     <!-- SCRIPTS -->
     <script>
          const streamId = '<%= stream.stream_id %>'
          const userId = '<%= stream.user_id%>'
          const AuthToken = '<%= authToken %>'
     </script>
     <script src="https://cdn.dyte.in/core/dyte-2.2.1.js" />
     </script>
     <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
     <script src="/socket.io/socket.io.js"></script>
     <script src="/scripts/stream_script.js"></script>
     </body>

</html>
